<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="index.css">
    <link rel="icon" type="image/svg+xml" href="logo.svg" />
    <script src="https://unpkg.com/i18next@21.6.3/dist/umd/i18next.min.js"></script>
    <title>.Dockerfile</title>
</head>

<body class="body-overal">
    <header class="header-overal">
        <select name="commonCommands" id="commonCommands">
            <option id="opt1" class="translated">Основные команды</option>
            <option value="index.html" class="translated opt9">Домой</option>
        </select>
        <select name="overalCommands" id="overalCommands">
            <option id="opt2" class="translated">Общие команды</option>
            <option value="index.html" class="translated opt9">Домой</option>
        </select>
        <select name="managementCommands" id="managementCommands">
            <option id="opt3" class="translated">Управляющие команды</option>
            <option value="index.html" class="translated opt9">Домой</option>
        </select>
        <select name="swarmCommands" id="swarmCommands">
            <option id="opt4" class="translated">Swarm-команды</option>
            <option value="index.html" class="translated opt9">Домой</option>
        </select>
        <select name="globalOptions" id="globalOptions">
            <option id="opt5" class="translated">Глобальные опции</option>
            <option value="index.html" class="translated opt9">Домой</option>
        </select>
        <select name="editFiles" id="editFiles">
            <option id="opt6" class="translated">Конфигурацинные файлы</option>
            <option value="index.html" class="translated opt9">Домой</option>
        </select>
        <select name="overalComposeCommands" id="overalComposeCommands">
            <option id="opt7" class="translated">Общие команды compose</option>
            <option value="index.html" class="translated opt9">Домой</option>
        </select>
        <select name="composeOptions" id="composeOptions">
            <option id="opt8" class="translated">Compose опции</option>
            <option value="index.html" class="translated opt9">Домой</option>
        </select>
    </header>
    <main>
        <pre>
            <code class="p">FROM &lt;image&gt;[:&lt;tag&gt;] [AS &lt;name&gt;]</code>

            <code class="p">RUN &lt;command&gt;</code>
            <code class="e">RUN apt-get update && apt-get install -y curl git</code>
            <code class="e">RUN gcc -o myapp myapp.c</code>

            <code>до оптимизации</code>
            <code class="e">RUN apt-get update</code>
            <code class="e">RUN apt-get install -y curl</code>
            <code class="e">RUN apt-get install -y git</code>
            <code class="e">RUN rm -rf /var/lib/apt/lists/*</code>

            <code>после оптимизации</code>
            <code class="e">RUN apt-get update && apt-get install -y curl git && rm -rf /var/lib/apt/lists/*</code>

            <code>или так:</code>

            <code class="e">RUN apt-get update \</code>
                <code class="e">&& apt-get install -y curl git \</code>
                <code class="e">&& rm -rf /var/lib/apt/lists/*</code>

            <code class="e">RUN apt-get update && apt-get install -y curl git && \</code>
                <code class="e">apt-get clean && \</code>
                <code class="e">rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*</code>

            <code class="e">RUN apt-get update && apt-get install -y --no-install-recommends curl git && \</code>
                <code class="e">rm -rf /var/lib/apt/lists/*</code>

            <code class="e">RUN gzip /path/to/large/file.log</code>
            
            <code class="p">COPY &lt;src&gt; &lt;dest&gt;</code>
            <code class="e">COPY . /app</code>
            <code class="e">COPY package.json /app/package.json</code>

            <code class="p">CMD ["executable","param1","param2"]</code>
            <code class="p">CMD command param1 param2</code>
            <code class="e">CMD ["node", "app.js"]</code>
            <code class="e">CMD /usr/bin/myscript.sh</code>

            <code class="e">FROM node:14</code>
            <code class="e">WORKDIR /app</code>
            <code class="e">COPY package*.json ./</code>
            <code class="e">RUN npm install</code>
            <code class="e">COPY . .</code>
            <code class="e">EXPOSE 3000</code>
            <code class="e">CMD ["node", "app.js"]</code>

            <code class="e">FROM node:14 AS builder</code>
            <code class="e">WORKDIR /app</code>
            <code class="e">COPY package*.json ./</code>
            <code class="e">RUN npm install</code>
            <code class="e">COPY . .</code>
            <code class="e">RUN npm run build</code>

            <code class="e">FROM nginx:alpine</code>
            <code class="e">COPY --from=builder /app/build /usr/share/nginx/html</code>
        </pre>
    </main>

    <footer></footer>
    <script type="module" src="edition_dockerfile.js"></script>
    <script src="index.js"></script>
</body>

</html>